"use strict";(self.webpackChunkwechaty_docusaurus=self.webpackChunkwechaty_docusaurus||[]).push([[100],{3905:function(t,e,a){a.d(e,{Zo:function(){return h},kt:function(){return m}});var r=a(67294);function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e){if(null==t)return{};var a,r,o=function(t,e){if(null==t)return{};var a,r,o={},n=Object.keys(t);for(r=0;r<n.length;r++)a=n[r],e.indexOf(a)>=0||(o[a]=t[a]);return o}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(r=0;r<n.length;r++)a=n[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}var l=r.createContext({}),i=function(t){var e=r.useContext(l),a=e;return t&&(a="function"==typeof t?t(e):c(c({},e),t)),a},h=function(t){var e=i(t.components);return r.createElement(l.Provider,{value:e},t.children)},p={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},u=r.forwardRef((function(t,e){var a=t.components,o=t.mdxType,n=t.originalType,l=t.parentName,h=s(t,["components","mdxType","originalType","parentName"]),u=i(a),m=o,y=u["".concat(l,".").concat(m)]||u[m]||p[m]||n;return a?r.createElement(y,c(c({ref:e},h),{},{components:a})):r.createElement(y,c({ref:e},h))}));function m(t,e){var a=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var n=a.length,c=new Array(n);c[0]=u;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=t,s.mdxType="string"==typeof t?t:o,c[1]=s;for(var i=2;i<n;i++)c[i]=a[i];return r.createElement.apply(null,c)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},41216:function(t,e,a){a.r(e),a.d(e,{assets:function(){return h},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return i},toc:function(){return p}});var r=a(87462),o=a(63366),n=(a(67294),a(3905)),c=["components"],s={slug:"/polyglot/diy/",title:"Polyglot: DIY"},l=void 0,i={unversionedId:"polyglot/diy/overview",id:"polyglot/diy/overview",title:"Polyglot: DIY",description:"DIY Wechaty",source:"@site/docs/polyglot/diy/overview.md",sourceDirName:"polyglot/diy",slug:"/polyglot/diy/",permalink:"/docs/polyglot/diy/",editUrl:"https://github.com/wechaty/docusaurus/edit/main/docusaurus/docs/polyglot/diy/overview.md",tags:[],version:"current",lastUpdatedBy:"Shraddha",lastUpdatedAt:1631981433,formattedLastUpdatedAt:"9/18/2021",frontMatter:{slug:"/polyglot/diy/",title:"Polyglot: DIY"},sidebar:"docs",previous:{title:"Rust",permalink:"/docs/polyglot/rust/"},next:{title:"Puppet Providers: Overview",permalink:"/docs/puppet-providers/"}},h={},p=[{value:"Architecture",id:"architecture",level:2},{value:"Check-list",id:"check-list",level:2},{value:"Wechaty Internal Modules",id:"wechaty-internal-modules",level:3},{value:"Wechaty External Modules",id:"wechaty-external-modules",level:3},{value:"History",id:"history",level:2}],u={toc:p};function m(t){var e=t.components,s=(0,o.Z)(t,c);return(0,n.kt)("wrapper",(0,r.Z)({},u,s,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/docs/polyglot/diy/"},(0,n.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Wechaty-DIY-brightgreen",alt:"DIY Wechaty"}))),(0,n.kt)("p",null,"Wechaty is mainly built on TypeScript,  it is not very hard to translate the TypeScript(TS) to other programming languages ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty"},"wechaty")," has only 3,000 lines of the TS code, that are well designed and de-coupled by the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-puppet/"},"wechaty-puppet")," abstraction. So after translation of those 3,000 lines of TypeScript code, Wechaty can be used in any programming language."),(0,n.kt)("p",null,"Wechaty already has an ecosystem in TypeScript, so you will not have to implement everything in other languages, especially since, in Feb 2020, Wechaty finished the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/wechaty/grpc"},"wechaty-grpc")," service abstracting module with the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty-puppet-service"},"wechaty-puppet-service")," implementation."),(0,n.kt)("h2",{id:"architecture"},"Architecture"),(0,n.kt)("p",null,"The following diagram shows out that we can reuse almost everything in TypeScript, and what we need to do is only the block located at the top right of the diagram: ",(0,n.kt)("inlineCode",{parentName:"p"},"Wechaty (Polyglot)"),".\n",(0,n.kt)("img",{alt:"Polyglot Architecture",src:a(51856).Z,width:"583",height:"314"})),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ascii"},"  +--------------------------+ +--------------------------+\n  |                          | |                          |\n  |   Wechaty (TypeScript)   | |    Wechaty(Polyglot)     |\n  |                          | |  Python, Go, Java, etc.  |\n  +--------------------------+ +--------------------------+\n\n  +-------------------------------------------------------+\n  |                 Wechaty Puppet Servuce                |\n  |                                                       |\n  |                (wechaty-puppet-service)               |\n  +-------------------------------------------------------+\n\n+---------------------  wechaty_grpc  ----------------------+\n\n  +-------------------------------------------------------+\n  |                Wechaty Puppet Abstract                |\n  |                                                       |\n  |                   (wechaty-puppet)                    |\n  +-------------------------------------------------------+\n\n  +--------------------------+ +--------------------------+\n  |      Pad Protocol        | |      Web Protocol        |\n  |                          | |                          |\n  | wechaty-puppet-padlocal  | |  (wechaty-puppet-wechat) |\n  +--------------------------+ +--------------------------+\n  +--------------------------+ +--------------------------+\n  |     Windows Protocol     | |       WhatsApp Protocol  |\n  |                          | |                          |\n  |  (wechaty-puppet-xp)     | | (wechaty-puppet-whatsapp)|\n  +--------------------------+ +--------------------------+\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Chart made by ",(0,n.kt)("a",{parentName:"p",href:"http://asciiflow.com/"},"AsciiFlow"))),(0,n.kt)("h2",{id:"check-list"},"Check-list"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"TS: TypeScript"),(0,n.kt)("li",{parentName:"ul"},"SLOC: Source Lines Of Code")),(0,n.kt)("h3",{id:"wechaty-internal-modules"},"Wechaty Internal Modules"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class Wechaty @wj-mCat")," TS SLOC(1160): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/wechaty.ts"},"https://github.com/wechaty/wechaty/blob/master/src/wechaty.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class Contact")," TS SLOC(804): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/contact.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/contact.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class ContactSelf")," TS SLOC(199): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/contact-self.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/contact-self.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class Message")," TS SLOC(1054): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/message.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/message.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class Room")," TS SLOC(1194): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/room.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/room.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class Image @wj-mCat")," TS SLOC(60): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/image.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/image.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class Accessory @huan")," TS SLOC(179): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/accessory.ts"},"https://github.com/wechaty/wechaty/blob/master/src/accessory.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class Config @wj-mCat"),"  TS SLOC(187): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/config.ts"},"https://github.com/wechaty/wechaty/blob/master/src/config.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class Favorite")," TS SLOC(52): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/favorite.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/favorite.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class Friendship")," TS SLOC(417): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/friendship.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/friendship.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class MiniProgram")," TS SLOC(70): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/mini-program.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/mini-program.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class RoomInvitation")," TS SLOC(317): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/room-invitation.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/room-invitation.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class Tag")," TS SLOC(190): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/tag.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/tag.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class UrlLink")," TS SLOC(107): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/blob/master/src/user/url-link.ts"},"https://github.com/wechaty/wechaty/blob/master/src/user/url-link.ts"))),(0,n.kt)("h3",{id:"wechaty-external-modules"},"Wechaty External Modules"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class FileBox")," TS SLOC(638): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/huan/file-box/blob/master/src/file-box.ts"},"https://github.com/huan/file-box/blob/master/src/file-box.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class MemoryCard")," TS SLOC(376): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/huan/memory-card/blob/master/src/memory-card.ts"},"https://github.com/huan/memory-card/blob/master/src/memory-card.ts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class WechatyPuppet")," TS SLOC(1115): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty-puppet/blob/master/src/puppet.ts"},"https://github.com/wechaty/wechaty-puppet/blob/master/src/puppet.ts"),"  "),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Class WechatyPuppetHostie")," TS SLOC(909): ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty-puppet-hostie/blob/master/src/grpc/puppet-client.ts"},"https://github.com/wechaty/wechaty-puppet-hostie/blob/master/src/grpc/puppet-client.ts"))),(0,n.kt)("h2",{id:"history"},"History"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://wechaty.js.org/2020/06/19/multi-language-wechaty-beta-release/"},"Multi Language Wechaty Beta Release Announcement, Huan, Jun 19, 2020")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://wechaty.js.org/2020/07/05/multilanguage-meeting-notes/"},"Multi-language Wechaty Meeting: Mocking & Code Quality, wj-Mcat, Jun 5, 2020")),(0,n.kt)("li",{parentName:"ul"},"Wechaty is All You Need: Python, Go, and Java Translation Project ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/wechaty/discussions/1927"},"wechaty/wechaty#1927")),(0,n.kt)("li",{parentName:"ul"},"Python Wechaty: ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/python-wechaty/issues/13"},"wechaty/python-wechaty#13")),(0,n.kt)("li",{parentName:"ul"},"Go Wechaty: ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/go-wechaty/issues/1"},"wechaty/go-wechaty#1")),(0,n.kt)("li",{parentName:"ul"},"Java Wechaty: ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/wechaty/java-wechaty/issues/1"},"wechaty/java-wechaty#1"))))}m.isMDXComponent=!0},51856:function(t,e,a){e.Z=a.p+"assets/images/polyglot-architecure-aa5e34d53ce701b9d59065fa7dc35594.webp"}}]);